!function t(e,o,i){function r(a,s){if(!o[a]){if(!e[a]){var h="function"==typeof require&&require;if(!s&&h)return h(a,!0);if(n)return n(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[a]={exports:{}};e[a][0].call(u.exports,(function(t){return r(e[a][1][t]||t)}),u,u.exports,t,e,o,i)}return o[a].exports}for(var n="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.cubic=function(t,e,o,i,r){var n=i-o-(t-e);return n*r*r*r+(t-e-n)*r*r+(o-t)*r+e},t.linear=function(t,e,o){return(1-o)*t+o*e},t.cubicSCurve=function(t){return t*t*(3-2*t)},t.quinticSCurve=function(t){var e=t*t*t,o=e*t;return 6*(o*t)-15*o+10*e},t}();o.default=i},{}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.PI=Math.PI,t.SQRT_2=Math.SQRT2,t.SQRT_3=1.7320508075688772,t.DEG_TO_RAD=Math.PI/180,t.RAD_TO_DEG=1/(Math.PI/180),t}();o.default=i},{}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){};o.default=i},{}],4:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(t("./../Module")).default);o.default=a},{"./../Module":3}],5:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var s=n(t("./../../noisegen")),h=t("./../../util"),l=function(t){function e(o,i,r,n,a,s){var h=t.call(this)||this;return h._octaves=e.DEFAULT_BILLOW_OCTAVE_COUNT,h.frequency=o||e.DEFAULT_BILLOW_FREQUENCY,h.lacunarity=i||e.DEFAULT_BILLOW_LACUNARITY,h.octaves=r||e.DEFAULT_BILLOW_OCTAVE_COUNT,h.persistence=n||e.DEFAULT_BILLOW_PERSISTENCE,h.seed=a||e.DEFAULT_BILLOW_SEED,h.quality=s||e.DEFAULT_BILLOW_QUALITY,h}return r(e,t),Object.defineProperty(e.prototype,"octaves",{get:function(){return this._octaves},set:function(t){if(t>e.BILLOW_MAX_OCTAVE)throw new Error("Cannot set octaves greater than maximum of "+e.BILLOW_MAX_OCTAVE);this._octaves=t},enumerable:!0,configurable:!0}),e.prototype.getValue=function(t,e,o){var i,r,n,a=0,l=1;t*=this.frequency,e*=this.frequency,o*=this.frequency;for(var u=0;u<this.octaves;u++)i=h.makeInt32Range(t),r=h.makeInt32Range(e),n=h.makeInt32Range(o),a+=(2*Math.abs(s.default.gradientCoherentNoise3D(i,r,n,this.seed+u&4294967295,this.quality))-1)*l,t*=this.lacunarity,e*=this.lacunarity,o*=this.lacunarity,l*=this.persistence;return a+.5},e.DEFAULT_BILLOW_FREQUENCY=1,e.DEFAULT_BILLOW_LACUNARITY=2,e.DEFAULT_BILLOW_OCTAVE_COUNT=6,e.DEFAULT_BILLOW_PERSISTENCE=.5,e.DEFAULT_BILLOW_QUALITY=s.Quality.Standard,e.DEFAULT_BILLOW_SEED=0,e.BILLOW_MAX_OCTAVE=30,e}(a(t("./GeneratorModule")).default);o.default=l},{"./../../noisegen":14,"./../../util":17,"./GeneratorModule":4}],6:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./../../util"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getValue=function(t,e,o){return 1&Math.floor(a.makeInt32Range(t))^1&Math.floor(a.makeInt32Range(e))^1&Math.floor(a.makeInt32Range(o))?-1:1},e}(n(t("./GeneratorModule")).default);o.default=s},{"./../../util":17,"./GeneratorModule":4}],7:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=function(t){function e(o){var i=t.call(this)||this;return i.value=o||e.DEFAULT_CONST_VALUE,i}return r(e,t),e.prototype.getValue=function(){return this.value},e.DEFAULT_CONST_VALUE=0,e}(n(t("./GeneratorModule")).default);o.default=a},{"./GeneratorModule":4}],8:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=function(t){function e(o){var i=t.call(this)||this;return i.frequency=o||e.DEFAULT_CYLINDERS_FREQUENCY,i}return r(e,t),e.prototype.getValue=function(t,e,o){t*=this.frequency,this.frequency;var i=Math.sqrt(t*t+o*o),r=i-Math.floor(i),n=1-r;return 1-4*Math.min(r,n)},e.DEFAULT_CYLINDERS_FREQUENCY=1,e}(n(t("./GeneratorModule")).default);o.default=a},{"./GeneratorModule":4}],9:[function(t,e,o){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var r=i(t("./billow"));o.Billow=r.default;var n=i(t("./checkerboard"));o.Checkerboard=n.default;var a=i(t("./const"));o.Const=a.default;var s=i(t("./cylinders"));o.Cylinders=s.default;var h=i(t("./GeneratorModule"));o.default=h.default;var l=i(t("./perlin"));o.Perlin=l.default;var u=i(t("./ridgedmulti"));o.RidgedMulti=u.default;var c=i(t("./spheres"));o.Spheres=c.default;var f=i(t("./voronoi"));o.Voronoi=f.default},{"./GeneratorModule":4,"./billow":5,"./checkerboard":6,"./const":7,"./cylinders":8,"./perlin":10,"./ridgedmulti":11,"./spheres":12,"./voronoi":13}],10:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var s=n(t("./../../noisegen")),h=t("./../../util"),l=function(t){function e(o,i,r,n,a,s){var h=t.call(this)||this;return h._octaves=e.DEFAULT_PERLIN_OCTAVE_COUNT,h.frequency=o||e.DEFAULT_PERLIN_FREQUENCY,h.lacunarity=i||e.DEFAULT_PERLIN_LACUNARITY,h.octaves=r||e.DEFAULT_PERLIN_OCTAVE_COUNT,h.persistence=n||e.DEFAULT_PERLIN_PERSISTENCE,h.seed=a||e.DEFAULT_PERLIN_SEED,h.quality=s||e.DEFAULT_PERLIN_QUALITY,h}return r(e,t),Object.defineProperty(e.prototype,"octaves",{get:function(){return this._octaves},set:function(t){if(t>e.PERLIN_MAX_OCTAVE)throw new Error("Cannot set octaves greater than maximum of "+e.PERLIN_MAX_OCTAVE);this._octaves=t},enumerable:!0,configurable:!0}),e.prototype.getValue=function(t,e,o){var i,r,n,a=0,l=1;t*=this.frequency,e*=this.frequency,o*=this.frequency;for(var u=0;u<this.octaves;u++)i=h.makeInt32Range(t),r=h.makeInt32Range(e),n=h.makeInt32Range(o),a+=s.default.gradientCoherentNoise3D(i,r,n,this.seed+u&4294967295,this.quality)*l,t*=this.lacunarity,e*=this.lacunarity,o*=this.lacunarity,l*=this.persistence;return a},e.DEFAULT_PERLIN_FREQUENCY=1,e.DEFAULT_PERLIN_LACUNARITY=2,e.DEFAULT_PERLIN_OCTAVE_COUNT=6,e.DEFAULT_PERLIN_PERSISTENCE=.5,e.DEFAULT_PERLIN_QUALITY=s.Quality.Standard,e.DEFAULT_PERLIN_SEED=0,e.PERLIN_MAX_OCTAVE=30,e}(a(t("./GeneratorModule")).default);o.default=l},{"./../../noisegen":14,"./../../util":17,"./GeneratorModule":4}],11:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var s=n(t("./../../noisegen")),h=t("./../../util"),l=function(t){function e(o,i,r,n,a,s,h){var l=t.call(this)||this;return l._octaves=e.DEFAULT_RIDGED_OCTAVE_COUNT,l._lacunarity=e.DEFAULT_RIDGED_LACUNARITY,l.weights=[],l.frequency=o||e.DEFAULT_RIDGED_FREQUENCY,l.lacunarity=i||e.DEFAULT_RIDGED_LACUNARITY,l.octaves=r||e.DEFAULT_RIDGED_OCTAVE_COUNT,l.seed=n||e.DEFAULT_RIDGED_SEED,l.quality=a||e.DEFAULT_RIDGED_QUALITY,l.offset=s||e.DEFAULT_RIDGED_OFFSET,l.gain=h||e.DEFAULT_RIDGED_GAIN,l}return r(e,t),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this._lacunarity},set:function(t){this._lacunarity=t;var o=1;this.weights=[];for(var i=0;i<e.RIDGED_MAX_OCTAVE;i++)this.weights[i]=Math.pow(o,-1),o*=this.lacunarity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"octaves",{get:function(){return this._octaves},set:function(t){if(t>e.RIDGED_MAX_OCTAVE)throw new Error("Cannot set octaves greater than maximum of "+e.RIDGED_MAX_OCTAVE);this._octaves=t},enumerable:!0,configurable:!0}),e.prototype.getValue=function(t,e,o){var i,r,n,a,l=0,u=0,c=1;t*=this.frequency,e*=this.frequency,o*=this.frequency;for(var f=0;f<this.octaves;f++)i=h.makeInt32Range(t),r=h.makeInt32Range(e),n=h.makeInt32Range(o),a=this.seed+f&2147483647,u=s.default.gradientCoherentNoise3D(i,r,n,a,this.quality),u=Math.abs(u),u=this.offset-u,u*=u,c=(u*=c)*this.gain,c=h.clamp(c,0,1),l+=u*this.weights[f],t*=this.lacunarity,e*=this.lacunarity,o*=this.lacunarity;return 1.25*l-1},e.DEFAULT_RIDGED_FREQUENCY=1,e.DEFAULT_RIDGED_LACUNARITY=2,e.DEFAULT_RIDGED_OCTAVE_COUNT=6,e.DEFAULT_RIDGED_QUALITY=s.Quality.Standard,e.DEFAULT_RIDGED_SEED=0,e.DEFAULT_RIDGED_OFFSET=1,e.DEFAULT_RIDGED_GAIN=2,e.RIDGED_MAX_OCTAVE=30,e}(a(t("./GeneratorModule")).default);o.default=l},{"./../../noisegen":14,"./../../util":17,"./GeneratorModule":4}],12:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=function(t){function e(o){var i=t.call(this)||this;return i.frequency=o||e.DEFAULT_SPHERES_FREQUENCY,i}return r(e,t),e.prototype.getValue=function(t,e,o){t*=this.frequency,e*=this.frequency,o*=this.frequency;var i=Math.sqrt(t*t+e*e+o*o),r=i-Math.floor(i),n=1-r;return 1-4*Math.min(r,n)},e.DEFAULT_SPHERES_FREQUENCY=4,e}(n(t("./GeneratorModule")).default);o.default=a},{"./GeneratorModule":4}],13:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=n(t("./../../mathconsts")),s=n(t("./../../noisegen")),h=function(t){function e(o,i,r,n){var a=t.call(this)||this;return a.frequency=o||e.DEFAULT_VORONOI_FREQUENCY,a.displacement=i||e.DEFAULT_VORONOI_DISPLACEMENT,a.distance=r||!1,a.seed=n||e.DEFAULT_VORONOI_SEED,a}return r(e,t),e.prototype.getValue=function(t,e,o){var i,r,n,h,l,u,c;t*=this.frequency,e*=this.frequency,o*=this.frequency;for(var f=Math.floor(t),_=Math.floor(e),p=Math.floor(o),d=t>0?f:f-1,g=e>0?_:_-1,y=o>0?p:p-1,m=2147483647,b=0,v=0,E=0,x=0,L=y-2;L<=y+2;L++)for(var M=g-2;M<=g+2;M++)for(var O=d-2;O<=d+2;O++)(c=(h=(i=O+s.default.valueNoise3D(O,M,L,this.seed))-t)*h+(l=(r=M+s.default.valueNoise3D(O,M,L,this.seed+1))-e)*l+(u=(n=L+s.default.valueNoise3D(O,M,L,this.seed+2))-o)*u)<m&&(m=c,b=i,v=r,E=n);return this.distance&&(h=b-t,l=v-e,u=E-o,x=Math.sqrt(h*h+l*l+u*u)*a.default.SQRT_3-1),x+this.displacement*s.default.valueNoise3D(Math.floor(b),Math.floor(v),Math.floor(E))},e.DEFAULT_VORONOI_DISPLACEMENT=1,e.DEFAULT_VORONOI_FREQUENCY=1,e.DEFAULT_VORONOI_SEED=0,e}(n(t("./GeneratorModule")).default);o.default=h},{"./../../mathconsts":2,"./../../noisegen":14,"./GeneratorModule":4}],14:[function(t,e,o){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var r,n=i(t("./interpolation")),a=i(t("./vectortable"));!function(t){t[t.Fast=0]="Fast",t[t.Standard=1]="Standard",t[t.Best=2]="Best"}(r=o.Quality||(o.Quality={}));var s=function(){function t(){}return t.intValueNoise3D=function(e,o,i,r){e=Math.floor(e),o=Math.floor(o),i=Math.floor(i),r=Math.floor(r);var n=Math.floor(t.X_NOISE_GEN*e+t.Y_NOISE_GEN*o+t.Z_NOISE_GEN*i+t.SEED_NOISE_GEN*r&2147483647);return(n^=n>>13)*(n*n*60493+19990303)+1376312589&2147483647},t.valueNoise3D=function(e,o,i,r){return void 0===r&&(r=0),1-t.intValueNoise3D(Math.floor(e),Math.floor(o),Math.floor(i),Math.floor(r))/1073741824},t.gradientNoise3D=function(e,o,i,r,n,s,h){void 0===h&&(h=1);var l=4294967295&Math.floor(t.X_NOISE_GEN*r+t.Y_NOISE_GEN*n+t.Z_NOISE_GEN*s+t.SEED_NOISE_GEN*h);return l^=l>>t.SHIFT_NOISE_GEN,l&=255,2.12*(a.default[l<<2]*(e-r)+a.default[1+(l<<2)]*(o-n)+a.default[2+(l<<2)]*(i-s))},t.coherentNoise3D=function(t,e,o,i,a,s){if(!s)throw new Error("Must provide proper interpolation function!");i=i?Math.floor(i):1,a=a?Math.floor(a):r.Standard;var h=Math.floor(t),l=Math.floor(e),u=Math.floor(o),c=t>0?h:t-1,f=c+1,_=e>0?l:e-1,p=_+1,d=o>0?u:o-1,g=d+1,y=0,m=0,b=0;switch(a){case r.Best:y=n.default.quinticSCurve(t-c),m=n.default.quinticSCurve(e-_),b=n.default.quinticSCurve(o-d);break;case r.Standard:y=n.default.cubicSCurve(t-c),m=n.default.cubicSCurve(e-_),b=n.default.cubicSCurve(o-d);break;default:case r.Fast:y=t-c,m=e-_,b=o-d}return s(c,_,d,f,p,g,y,m,b)},t.valueCoherentNoise3D=function(e,o,i,r,a){return t.coherentNoise3D(e,o,i,r,a,(function(e,o,i,a,s,h,l,u,c){var f,_,p,d,g,y;return f=t.valueNoise3D(e,o,i,r),_=t.valueNoise3D(a,o,i,r),p=n.default.linear(f,_,l),f=t.valueNoise3D(e,s,i,r),_=t.valueNoise3D(a,s,i,r),d=n.default.linear(f,_,l),g=n.default.linear(p,d,u),f=t.valueNoise3D(e,o,h,r),_=t.valueNoise3D(a,o,h,r),p=n.default.linear(f,_,l),f=t.valueNoise3D(e,s,h,r),_=t.valueNoise3D(a,s,h,r),d=n.default.linear(f,_,l),y=n.default.linear(p,d,u),n.default.linear(g,y,c)}))},t.gradientCoherentNoise3D=function(e,o,i,r,a){return t.coherentNoise3D(e,o,i,r,a,(function(a,s,h,l,u,c,f,_,p){var d,g,y,m,b,v;return d=t.gradientNoise3D(e,o,i,a,s,h,r),g=t.gradientNoise3D(e,o,i,l,s,h,r),y=n.default.linear(d,g,f),d=t.gradientNoise3D(e,o,i,a,u,h,r),g=t.gradientNoise3D(e,o,i,l,u,h,r),m=n.default.linear(d,g,f),b=n.default.linear(y,m,_),d=t.gradientNoise3D(e,o,i,a,s,c,r),g=t.gradientNoise3D(e,o,i,l,s,c,r),y=n.default.linear(d,g,f),d=t.gradientNoise3D(e,o,i,a,u,c,r),g=t.gradientNoise3D(e,o,i,l,u,c,r),m=n.default.linear(d,g,f),v=n.default.linear(y,m,_),n.default.linear(b,v,p)}))},t.X_NOISE_GEN=1619,t.Y_NOISE_GEN=31337,t.Z_NOISE_GEN=6971,t.SEED_NOISE_GEN=1013,t.SHIFT_NOISE_GEN=8,t}();o.default=s},{"./interpolation":1,"./vectortable":19}],15:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,e){this.item1=t,this.item2=e}return t.prototype.toString=function(){return"["+this.item1+", "+this.item2+"]"},t}();o.default=i},{}],16:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t,e,o){return t<e?e:t>o?o:t}},{}],17:[function(t,e,o){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var r=i(t("./clamp"));o.clamp=r.default;var n=i(t("./makeInt32Range"));o.makeInt32Range=n.default;var a=i(t("./Tuple"));o.Tuple=a.default},{"./Tuple":15,"./clamp":16,"./makeInt32Range":18}],18:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t){return t>=1073741824?t%1073741824*2-1073741824:t<=-1073741824?t%1073741824*2+1073741824:t}},{}],19:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.default=[-.763874,-.596439,-.246489,0,.396055,.904518,-.158073,0,-.499004,-.8665,-.0131631,0,.468724,-.824756,.316346,0,.829598,.43195,.353816,0,-.454473,.629497,-.630228,0,-.162349,-.869962,-.465628,0,.932805,.253451,.256198,0,-.345419,.927299,-.144227,0,-.715026,-.293698,-.634413,0,-.245997,.717467,-.651711,0,-.967409,-.250435,-.037451,0,.901729,.397108,-.170852,0,.892657,-.0720622,-.444938,0,.0260084,-.0361701,.999007,0,.949107,-.19486,.247439,0,.471803,-.807064,-.355036,0,.879737,.141845,.453809,0,.570747,.696415,.435033,0,-.141751,-.988233,-.0574584,0,-.58219,-.0303005,.812488,0,-.60922,.239482,-.755975,0,.299394,-.197066,-.933557,0,-.851615,-.220702,-.47544,0,.848886,.341829,-.403169,0,-.156129,-.687241,.709453,0,-.665651,.626724,.405124,0,.595914,-.674582,.43569,0,.171025,-.509292,.843428,0,.78605,.536414,-.307222,0,.18905,-.791613,.581042,0,-.294916,.844994,.446105,0,.342031,-.58736,-.7335,0,.57155,.7869,.232635,0,.885026,-.408223,.223791,0,-.789518,.571645,.223347,0,.774571,.31566,.548087,0,-.79695,-.0433603,-.602487,0,-.142425,-.473249,-.869339,0,-.0698838,.170442,.982886,0,.687815,-.484748,.540306,0,.543703,-.534446,-.647112,0,.97186,.184391,-.146588,0,.707084,.485713,-.513921,0,.942302,.331945,.043348,0,.499084,.599922,.625307,0,-.289203,.211107,.9337,0,.412433,-.71667,-.56239,0,.87721,-.082816,.47291,0,-.420685,-.214278,.881538,0,.752558,-.0391579,.657361,0,.0765725,-.996789,.0234082,0,-.544312,-.309435,-.779727,0,-.455358,-.415572,.787368,0,-.874586,.483746,.0330131,0,.245172,-.0838623,.965846,0,.382293,-.432813,.81641,0,-.287735,-.905514,.311853,0,-.667704,.704955,-.239186,0,.717885,-.464002,-.518983,0,.976342,-.214895,.0240053,0,-.0733096,-.921136,.382276,0,-.986284,.151224,-.0661379,0,-.899319,-.429671,.0812908,0,.652102,-.724625,.222893,0,.203761,.458023,-.865272,0,-.030396,.698724,-.714745,0,-.460232,.839138,.289887,0,-.0898602,.837894,.538386,0,-.731595,.0793784,.677102,0,-.447236,-.788397,.422386,0,.186481,.645855,-.740335,0,-.259006,.935463,.240467,0,.445839,.819655,-.359712,0,.349962,.755022,-.554499,0,-.997078,-.0359577,.0673977,0,-.431163,-.147516,-.890133,0,.299648,-.63914,.708316,0,.397043,.566526,-.722084,0,-.502489,.438308,-.745246,0,.0687235,.354097,.93268,0,-.0476651,-.462597,.885286,0,-.221934,.900739,-.373383,0,-.956107,-.225676,.186893,0,-.187627,.391487,-.900852,0,-.224209,-.315405,.92209,0,-.730807,-.537068,.421283,0,-.0353135,-.816748,.575913,0,-.941391,.176991,-.287153,0,-.154174,.390458,.90762,0,-.283847,.533842,.796519,0,-.482737,-.850448,.209052,0,-.649175,.477748,.591886,0,.885373,-.405387,-.227543,0,-.147261,.181623,-.972279,0,.0959236,-.115847,-.988624,0,-.89724,-.191348,.397928,0,.903553,-.428461,-.00350461,0,.849072,-.295807,-.437693,0,.65551,.741754,-.141804,0,.61598,-.178669,.767232,0,.0112967,.932256,-.361623,0,-.793031,.258012,.551845,0,.421933,.454311,.784585,0,-.319993,.0401618,-.946568,0,-.81571,.551307,-.175151,0,-.377644,.00322313,.925945,0,.129759,-.666581,-.734052,0,.601901,-.654237,-.457919,0,-.927463,-.0343576,-.372334,0,-.438663,-.868301,-.231578,0,-.648845,-.749138,-.133387,0,.507393,-.588294,.629653,0,.726958,.623665,.287358,0,.411159,.367614,-.834151,0,.806333,.585117,-.0864016,0,.263935,-.880876,.392932,0,.421546,-.201336,.884174,0,-.683198,-.569557,-.456996,0,-.117116,-.0406654,-.992285,0,-.643679,-.109196,-.757465,0,-.561559,-.62989,.536554,0,.0628422,.104677,-.992519,0,.480759,-.2867,-.828658,0,-.228559,-.228965,-.946222,0,-.10194,-.65706,-.746914,0,.0689193,-.678236,.731605,0,.401019,-.754026,.52022,0,-.742141,.547083,-.387203,0,-.00210603,-.796417,-.604745,0,.296725,-.409909,-.862513,0,-.260932,-.798201,.542945,0,-.641628,.742379,.192838,0,-.186009,-.101514,.97729,0,.106711,-.962067,.251079,0,-.743499,.30988,-.592607,0,-.795853,-.605066,-.0226607,0,-.828661,-.419471,-.370628,0,.0847218,-.489815,-.8677,0,-.381405,.788019,-.483276,0,.282042,-.953394,.107205,0,.530774,.847413,.0130696,0,.0515397,.922524,.382484,0,-.631467,-.709046,.313852,0,.688248,.517273,.508668,0,.646689,-.333782,-.685845,0,-.932528,-.247532,-.262906,0,.630609,.68757,-.359973,0,.577805,-.394189,.714673,0,-.887833,-.437301,-.14325,0,.690982,.174003,.701617,0,-.866701,.0118182,.498689,0,-.482876,.727143,.487949,0,-.577567,.682593,-.447752,0,.373768,.0982991,.922299,0,.170744,.964243,-.202687,0,.993654,-.035791,-.106632,0,.587065,.4143,-.695493,0,-.396509,.26509,-.878924,0,-.0866853,.83553,-.542563,0,.923193,.133398,-.360443,0,.00379108,-.258618,.965972,0,.239144,.245154,-.939526,0,.758731,-.555871,.33961,0,.295355,.309513,.903862,0,.0531222,-.91003,-.411124,0,.270452,.0229439,-.96246,0,.563634,.0324352,.825387,0,.156326,.147392,.976646,0,-.0410141,.981824,.185309,0,-.385562,-.576343,-.720535,0,.388281,.904441,.176702,0,.945561,-.192859,-.262146,0,.844504,.520193,.127325,0,.0330893,.999121,-.0257505,0,-.592616,-.482475,-.644999,0,.539471,.631024,-.557476,0,.655851,-.027319,-.754396,0,.274465,.887659,.369772,0,-.123419,.975177,-.183842,0,-.223429,.708045,.66989,0,-.908654,.196302,.368528,0,-.95759,-.00863708,.288005,0,.960535,.030592,.276472,0,-.413146,.907537,.0754161,0,-.847992,.350849,-.397259,0,.614736,.395841,.68221,0,-.503504,-.666128,-.550234,0,-.268833,-.738524,-.618314,0,.792737,-.60001,-.107502,0,-.637582,.508144,-.579032,0,.750105,.282165,-.598101,0,-.351199,-.392294,-.850155,0,.250126,-.960993,-.118025,0,-.732341,.680909,-.0063274,0,-.760674,-.141009,.633634,0,.222823,-.304012,.926243,0,.209178,.505671,.836984,0,.757914,-.56629,-.323857,0,-.782926,-.339196,.52151,0,-.462952,.585565,.665424,0,.61879,.194119,-.761194,0,.741388,-.276743,.611357,0,.707571,.702621,.0752872,0,.156562,.819977,.550569,0,-.793606,.440216,.42,0,.234547,.885309,-.401517,0,.132598,.80115,-.58359,0,-.377899,-.639179,.669808,0,-.865993,-.396465,.304748,0,-.624815,-.44283,.643046,0,-.485705,.825614,-.287146,0,-.971788,.175535,.157529,0,-.456027,.392629,.798675,0,-.0104443,.521623,-.853112,0,-.660575,-.74519,.091282,0,-.0157698,-.307475,-.951425,0,-.603467,-.250192,.757121,0,.506876,.25006,.824952,0,.255404,.966794,.00884498,0,.466764,-.874228,-.133625,0,.475077,-.0682351,-.877295,0,-.224967,-.938972,-.260233,0,-.377929,-.814757,-.439705,0,-.305847,.542333,-.782517,0,.26658,-.902905,-.337191,0,.0275773,.322158,-.946284,0,.0185422,.716349,.697496,0,-.20483,.978416,.0273371,0,-.898276,.373969,.230752,0,-.00909378,.546594,.837349,0,.6602,-.751089,959236e-9,0,.855301,-.303056,.420259,0,.797138,.0623013,-.600574,0,.48947,-.866813,.0951509,0,.251142,.674531,.694216,0,-.578422,-.737373,-.348867,0,-.254689,-.514807,.818601,0,.374972,.761612,.528529,0,.640303,-.734271,-.225517,0,-.638076,.285527,.715075,0,.772956,-.15984,-.613995,0,.798217,-.590628,.118356,0,-.986276,-.0578337,-.154644,0,-.312988,-.94549,.0899272,0,-.497338,.178325,.849032,0,-.101136,-.981014,.165477,0,-.521688,.0553434,-.851339,0,-.786182,-.583814,.202678,0,-.565191,.821858,-.0714658,0,.437895,.152598,-.885981,0,-.92394,.353436,-.14635,0,.212189,-.815162,-.538969,0,-.859262,.143405,-.491024,0,.991353,.112814,.0670273,0,.0337884,-.979891,-.196654,0]},{}],20:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=null;if(1===t.length)if("string"==typeof t[0])if(this.validateHex(t[0])){var i=t[0];"#"!==i.charAt(0)&&(i="#"+i),this.setHex(i),this.hexToRgb(),this.convertToHSL()}else o="Hexadecimal color is incorrect";else o="Length of 1 in parameters is not equal to string";else 3===t.length&&(this.validateRgb(t)?(this.setRgb(t[0],t[1],t[2]),this.rgbToHex(),this.convertToHSL()):o="Values of RGB exceed limits");if(null!==o)throw"Color type is incorrect. "+o+": "+t.toString()}return t.prototype.setRgb=function(t,e,o){this._colorRgb={r:t,g:e,b:o}},t.prototype.setHsl=function(t,e,o){this._colorHsl={h:t,s:e,l:o}},t.prototype.setHex=function(t){if(t.length<7){var e=t.charAt(1),o=t.charAt(2),i=t.charAt(3);t="#"+e+e+o+o+i+i}this._colorHex=t},t.prototype.rgb=function(){return this._colorRgb},t.prototype.hex=function(){return this._colorHex},t.prototype.hsl=function(){return this._colorHsl},t.prototype.validateRgb=function(t){return t[0]>-1&&t[0]<256&&t[1]>-1&&t[1]<256&&t[2]>-1&&t[2]<256},t.prototype.validateHex=function(t){return!!t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)},t.prototype.hexToRgb=function(){var t=this._colorHex.substr(1).split(""),e=parseInt(t[0]+t[1],16),o=parseInt(t[2]+t[3],16),i=parseInt(t[4]+t[5],16);this.setRgb(e,o,i),this.rgbToHex()},t.prototype.rgbToHex=function(){if("object"==typeof this._colorRgb){var t=this._colorRgb.r,e=this._colorRgb.b,o=this._colorRgb.g,i=Number(t).toString(16),r=Number(o).toString(16),n=Number(e).toString(16);this._colorHex="#"+i+r+n}},t.prototype.convertRGBtoHex=function(t){var e=t.r,o=t.b,i=t.g;return"#"+Number(e).toString(16)+Number(i).toString(16)+Number(o).toString(16)},t.prototype.changeColorLightingString=function(t){var e=this._colorRgb.r,o=this._colorRgb.b,i=e+t,r=this._colorRgb.g+t,n=o+(t-8);return i>255&&(i=255),r>255&&(r=255),i>255&&(i=255),"#"+Number(i).toString(16)+Number(r).toString(16)+Number(n).toString(16)},t.prototype.changeColorLighting=function(t){console.log("change color by",t),console.log("current",this._colorRgb);var e=this._colorRgb.r,o=(this._colorRgb.b,e+t),i=this._colorRgb.g+t;return o>255&&(o=255),i>255&&(i=255),o>255&&(o=255),this.setRgb(o,i,o),this.rgbToHex(),this.convertToHSL(),this},t.prototype.getLightestRGB=function(){var t=this._colorRgb.r,e=this._colorRgb.b,o=t+55,i=this._colorRgb.g+55;return o>255&&(o=255),i>255&&(i=255),o>255&&(o=255),{r:o,g:i,b:e+40}},t.prototype.getHighlightsRGB=function(){var t=this._colorRgb.r,e=this._colorRgb.b,o=t+45,i=this._colorRgb.g+45;return o>255&&(o=255),i>255&&(i=255),o>255&&(o=255),{r:o,g:i,b:e+30}},t.prototype.getDarkerRegularRGB=function(){var t=this._colorRgb.r,e=this._colorRgb.b,o=t+15,i=this._colorRgb.g+15;return o>255&&(o=255),i>255&&(i=255),o>255&&(o=255),{r:o,g:i,b:e+5}},t.prototype.getHalflightsRGB=function(){var t=this._colorRgb.r,e=this._colorRgb.b,o=t+25,i=this._colorRgb.g+25;return o>255&&(o=255),i>255&&(i=255),o>255&&(o=255),{r:o,g:i,b:e+15}},t.prototype.getShadowsRGB=function(){var t=this._colorRgb.r,e=this._colorRgb.b,o=t-55,i=this._colorRgb.g-55;return o<0&&(o=0),i<0&&(i=0),o<0&&(o=0),{r:o,g:i,b:e-35}},t.prototype.getDarkestRGB=function(){var t=this._colorRgb.r,e=this._colorRgb.b,o=t-70,i=this._colorRgb.g-70;return o<0&&(o=0),i<0&&(i=0),o<0&&(o=0),{r:o,g:i,b:e-60}},t.prototype.getColorStringByHue=function(t){var e=this._colorHsl.h,o=this._colorHsl.s,i=this._colorHsl.l,r=e+t;r>360&&(r%=360);var n=this.convertHSLtoRGB({h:r,s:o,l:i});return this.convertRGBtoHex(n)},t.prototype.getColorByHue=function(t){var e=this._colorHsl.h,o=this._colorHsl.s,i=this._colorHsl.l,r=e+t;r>360&&(r%=360);var n=this.convertHSLtoRGB({h:r,s:o,l:i});return this.setRgb(n.r,n.g,n.b),this.rgbToHex(),this},t.prototype.convertToHSL=function(){var t=this._colorRgb.r,e=this._colorRgb.b,o=this._colorRgb.g;t/=255,o/=255,e/=255;var i=Math.min(t,o,e),r=Math.max(t,o,e),n=r-i,a=0,s=0,h=0;a=0===n?0:r===t?(o-e)/n%6:r===o?(e-t)/n+2:(t-o)/n+4,(a=Math.round(60*a))<0&&(a+=360),h=(r+i)/2,s=+(100*(s=0===n?0:n/(1-Math.abs(2*h-1)))).toFixed(1),h=+(100*h).toFixed(1),this._colorHsl={h:a,s:s,l:h}},t.prototype.convertHSLtoRGB=function(t){var e=t.h,o=t.s,i=t.l;o/=100,i/=100;var r=(1-Math.abs(2*i-1))*o,n=r*(1-Math.abs(e/60%2-1)),a=i-r/2,s=0,h=0,l=0;return 0<=e&&e<60?(s=r,h=n,l=0):60<=e&&e<120?(s=n,h=r,l=0):120<=e&&e<180?(s=0,h=r,l=n):180<=e&&e<240?(s=0,h=n,l=r):240<=e&&e<300?(s=n,h=0,l=r):300<=e&&e<360&&(s=r,h=0,l=n),{r:s=Math.round(255*(s+a)),g:h=Math.round(255*(h+a)),b:l=Math.round(255*(l+a))}},t}();o.Color=i},{}],21:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this._allowDebug=!0,this._tileWidth=15,this._tileLength=15,this._tileHeight=10,this._tileSmallAngle=85,this._tileLargeAngle=100,this._tileEdgeBleed=.3,this._maxAllowedHeight=12,this._topMargin=80}return Object.defineProperty(t.prototype,"allowDebug",{get:function(){return this._allowDebug},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileWidth",{get:function(){return this._tileWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileLength",{get:function(){return this._tileLength},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileHeight",{get:function(){return this._tileHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileSmallAngle",{get:function(){return this._tileSmallAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileLargeAngle",{get:function(){return this._tileLargeAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileEdgeBleed",{get:function(){return this._tileEdgeBleed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAllowedHeight",{get:function(){return this._maxAllowedHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topMargin",{get:function(){return this._topMargin},enumerable:!0,configurable:!0}),t.prototype.getMapWidth=function(t){return t*this._tileWidth},t.prototype.getMapLength=function(t){return t*this._tileLength},t}();o.Config=i},{}],22:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i,r=t("libnoise-ts/module/generator"),n=t("./renderelements.component"),a=t("./mapGenerationFunctions.component"),s=t("./config.component"),h=t("./colors.component"),l=function(){function t(t,e,o,i,l,u,c){void 0===o&&(o=25),void 0===i&&(i=1),void 0===l&&(l=1.7),void 0===u&&(u=4),this.w=t,this.l=e,this.noiseScale=o,this.frequency=i,this.lacunarity=l,this.octaves=u,this.persistence=c,this._re=new n.RenderElements,this._config=new s.Config,this.calculations=new a.MapGenerationFunctions,this.dimensions=this.calculations.calculateStraightLinesFromIsometricSquare(this._config.tileWidth,this._config.tileLength),this._map=[],this._triangles=[],this._htmlMap="",this._edge=4,this._coloring=!0,this._defaultColor="rgb(74, 150, 115)",this._colors={water:new h.Color(61,122,213),grass:new h.Color(89,161,42),sand:new h.Color(245,231,60),rock:new h.Color(85,73,63)},this._tileBorders=!1,this._perlin=new r.Perlin(i,l,u,c,(new Date).getTime(),100);var f=0;this._width=t,this._length=e;for(var _=2*this._edge+Math.floor(Math.random()*(t-4*this._edge)),p=2*this._edge+Math.floor(Math.random()*(e-4*this._edge)),d=_-1,g=t-_,y=p-1,m=e-p,b=45+10*Math.floor(5*Math.random()),v=0;v<e;v++){this._map[v]=[];for(var E=0;E<t;E++){var x=50,L=50;v<p?x=Math.floor(v/y/2*100):v>p&&(x=Math.floor((e-v)/m/2*100)),E<_?L=Math.floor(E/d/2*100):E>_&&(L=Math.floor((t-E)/g/2*100));var M=x+L,O=0;if(M>88&&(M=100),b<M){var D=Math.abs(this._perlin.getValue(E/o*i,v/o*i,0));(O=Math.floor(M*(D*(M/300))))<=0&&(O=0)}else O=0;var T={id:f,x:E,y:v,height:O};this._map[v][E]=T,f++}}}return t.prototype.getMapInfo=function(){return{width:this._width,length:this._length,tileWidth:this._config.tileWidth,tileLength:this._config.tileLength,container:{width:this._containerPixelWidth,height:this._containerPixelHeight}}},t.prototype.getMap=function(){return this._map},t.prototype.buildMap=function(t){for(var e=this._width,o=this._length,r=this._re.createTile(0,0,0),n=(r.coords.bottom.x,r.coords.top.x,r.coords.right.y-r.coords.left.y),a=r.coords.top.x-r.coords.left.x,s=r.coords.right.x-r.coords.top.x,l=r.coords.right.y,u=l*e,c=(r.coords.bottom.y-r.coords.right.y)*o,f=(Math.round((a+s)*e),Math.round(u+c),this._config.topMargin,null),_=a*(e-1),p=0;p<this._length;p++)for(var d=0;d<this._width;d++){var g=0,y=0,m=this._map[p][d];0===d&&0===p&&(y=_),null!=f&&(g=f.coords.right.y),p>0&&0===d&&(y=_-a*p,g=l*p-n*p),d>0&&(y=f.coords.right.x-(f.coords.right.x-f.coords.bottom.x));var b={x:y+this.dimensions.horizontalWidthFromBottom,y:g+this.dimensions.totalHeight-m.height},v={x:y+this.dimensions.horizontalWidthFromTop,y:g},E={x:y,y:g+this.dimensions.verticalHeightFromTop},x={x:y+this.dimensions.horizontalWidthFromBottom,y:g+this.dimensions.totalHeight},L={x:y+this.dimensions.totalWidth,y:g+this.dimensions.verticalHeightFromBottom},M=this._re.createTile(y,g,m.height);0===p&&d===this._width-1&&this.setContainerSize({width:M.coords.right.x,height:0}),p===this._length-1&&d===this._width-1&&this.setContainerSize({width:0,height:M.coords.bottom.y});var O=0;p<this._length&&d<this._width&&(O=x.y-v.y);var D=(v.x+x.x)/2,T=(E.y+L.y)/2+O,R=m.height;p>0&&d>0&&p<this._length-1&&d<this._width-1&&(R=(this._map[p+1][d].height+this._map[p][d+1].height+this._map[p+1][d+1].height)/3),this._map[p][d].tileCoords={point:b,center:{x:D,y:T-R}},f=M}var A=0;for(p=0;p<this._length;p++)for(d=0;d<this._width;d++){b={x:this._map[p][d].tileCoords.point.x,y:this._map[p][d].tileCoords.point.y-.15};var C={x:this._map[p][d].tileCoords.center.x,y:this._map[p][d].tileCoords.center.y},I={x:0,y:0},N={x:0,y:0},S={x:0,y:0},F=this._map[p][d].tileCoords.point.x+" "+this._map[p][d].tileCoords.point.y,P=(E="0 0",x="0 0",L="0 0",this._defaultColor),w=this._defaultColor,U=this._defaultColor,G=this._defaultColor;if(d>0&&p>0&&p<this._map.length-1&&d<this._map[0].length-1){I={x:this._map[p+1][d].tileCoords.point.x-.15,y:this._map[p+1][d].tileCoords.point.y+.15},Math.abs(this._map[p+1][d].height-this._map[p][d].height),N={x:this._map[p+1][d+1].tileCoords.point.x,y:this._map[p+1][d+1].tileCoords.point.y+.15},Math.abs(this._map[p+1][d+1].height-this._map[p][d].height),S={x:this._map[p][d+1].tileCoords.point.x+.15,y:this._map[p][d+1].tileCoords.point.y+.15},Math.abs(this._map[p][d+1].height-this._map[p][d].height),E=I.x+" "+I.y,x=N.x+" "+N.y,L=S.x+" "+S.y;var H=N.x+.15+" "+N.y,j=N.x-.15+" "+N.y;C={x:(b.x+N.x)/2,y:(I.y+S.y)/2};var B=this._map[p][d].height<this._map[p][d-1].height,W=this._map[p][d].height<this._map[p+1][d].height,q=this._map[p][d].height<this._map[p][d+1].height,V=this._map[p][d].height<this._map[p-1][d].height,Y=(b.x,I.x,b.y,I.y,I.x,N.x,I.y,N.y,N.x,S.x,N.y,S.y,b.x,S.x,b.y,S.y,(this._map[p][d-1].height+this._map[p][d].height)/2),k=(this._map[p+1][d].height+this._map[p][d].height)/2,Q=(this._map[p][d+1].height+this._map[p][d].height)/2,z=(this._map[p-1][d].height+this._map[p][d].height)/2,X=Math.round(this.toDegrees(Math.atan(Math.abs(Y-this._map[p][d].height)/(this._config.tileWidth/2)))),Z=Math.round(this.toDegrees(Math.atan(Math.abs(k-this._map[p][d].height)/(this._config.tileLength/2)))),$=Math.round(this.toDegrees(Math.atan(Math.abs(Q-this._map[p][d].height)/(this._config.tileWidth/2)))),J=Math.round(this.toDegrees(Math.atan(Math.abs(z-this._map[p][d].height)/(this._config.tileLength/2))));if(this._triangles.push({element:A,location:i.topLeft,points:[b,I,C],height:(this._map[p][d-1].height+this._map[p][d].height)/2,angle:X}),A++,this._triangles.push({element:A,location:i.bottomLeft,points:[I,H,C],height:(this._map[p+1][d].height+this._map[p][d].height)/2,angle:Z}),A++,this._triangles.push({element:A,location:i.bottomRight,points:[j,S,C],height:(this._map[p][d+1].height+this._map[p][d].height)/2,angle:$}),A++,this._triangles.push({element:A,location:i.topRight,points:[b,C,S],height:(this._map[p-1][d].height+this._map[p][d].height)/2,angle:J}),A++,this._coloring){if(P=this._colors.water.hex(),w=this._colors.water.hex(),U=this._colors.water.hex(),G=this._colors.water.hex(),B||this._map[p][d].height>0){this._colors.grass;P=new h.Color(this._colors.grass.hex()).changeColorLighting(-X).hex(),console.log("angle",X),console.log("color",P),0===this._map[p][d].height&&(P="rgb(245, 231, 60)")}(W||this._map[p][d].height>0)&&(w=new h.Color(this._colors.grass.hex()).changeColorLighting(-Z).hex(),0===this._map[p][d].height&&(w="rgb(245, 231, 60)")),(q||this._map[p][d].height>0)&&(U=new h.Color(this._colors.grass.hex()).changeColorLighting($).hex(),0===this._map[p][d].height&&(U="rgb(245, 231, 60)")),(V||this._map[p][d].height>0)&&(G=new h.Color(this._colors.grass.hex()).changeColorLighting(J).hex(),0===this._map[p][d].height&&(G="rgb(245, 231, 60)"))}var K="";this._tileBorders&&(K='stroke-width="1" stroke="#222a" '),this._htmlMap+='<g class="tile" style="z-index:'+this._map[p][d].id+';">\n\t\t\t\t\t\t<path fill="'+P+'" '+K+'\n\t\t\t\t\t\td="M'+F+"\n\t\t\t\t\t\tL"+E+"\n\t\t\t\t\t\tL"+(C.x+.15)+" "+(C.y+.15)+"\n\t\t\t\t\t\tL"+F+' Z" />\n\t\t\t\t\t\t<path fill="'+w+'" '+K+'\n\t\t\t\t\t\td="M'+E+"\n\t\t\t\t\t\tL"+H+"\n\t\t\t\t\t\tL"+(C.x+.15)+" "+(C.y-.15)+"\n\t\t\t\t\t\tL"+E+' Z" />\n\t\t\t\t\t\t<path fill="'+U+'" '+K+'\n\t\t\t\t\t\td="M'+(C.x-.15)+" "+(C.y-.15)+"\n\t\t\t\t\t\tL"+j+"\n\t\t\t\t\t\tL"+L+"\n\t\t\t\t\t\tL"+(C.x-.15)+" "+(C.y-.15)+' Z" />\n\t\t\t\t\t\t<path fill="'+G+'" '+K+'\n\t\t\t\t\t\td="M'+F+"\n\t\t\t\t\t\tL"+(C.x-.15)+" "+(C.y+.15)+"\n\t\t\t\t\t\tL"+L+"\n\t\t\t\t\t\tL"+F+' Z" />\n\t\t\t\t\t\t<text x="'+(this._map[p][d].tileCoords.point.x-10)+'" y="'+(this._map[p][d].tileCoords.point.y-15)+'">\n\t\t\t\t\t\t\t'+p+", "+d+'\n\t\t\t\t\t\t</text>\n\t\t\t\t\t\t<text x="'+(this._map[p][d].tileCoords.point.x-15)+'" y="'+(this._map[p][d].tileCoords.point.y-5)+'">\n\t\t\t\t\t\t\theight: '+this._map[p][d].height+"\n\t\t\t\t\t\t</text></g>",A++}}t.innerHTML=this._htmlMap,console.log("triangles:",this._triangles)},t.prototype.setContainerSize=function(t){void 0===t&&(t={width:0,height:0}),0!==t.width&&(this._containerPixelWidth=t.width),0!==t.height&&(this._containerPixelHeight=t.height)},t.prototype.toRadians=function(t){return t*(Math.PI/180)},t.prototype.toDegrees=function(t){return t*(180/Math.PI)},t}();!function(t){t.topLeft="TOP_LEFT",t.bottomLeft="BOTTOM_LEFT",t.bottomRight="BOTTOM_RIGHT",t.topRight="TOP_RIGHT"}(i||(i={}));var u=document.querySelector("input#scale"),c=document.querySelector("input#lacunarity"),f=document.querySelector("input#octaves"),_=document.querySelector("input#persistence"),p=document.querySelector("#generate"),d=document.querySelector("#island");p.addEventListener("click",(function(){var t=new l(40,40,parseInt(u.value),1,parseInt(c.value),parseInt(f.value),parseInt(_.value)),e=t.getMapInfo();e.width,e.tileWidth,e.length,e.tileLength;t.buildMap(d),e=t.getMapInfo(),d.setAttribute("width",e.container.width.toString()),d.setAttribute("height",e.container.height.toString())}))},{"./colors.component":20,"./config.component":21,"./mapGenerationFunctions.component":23,"./renderelements.component":24,"libnoise-ts/module/generator":9}],23:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=t("./config.component"),r=function(){function t(){this.config=new i.Config,this.smallAngle=this.config.tileSmallAngle,this.largeAngle=this.config.tileLargeAngle}return t.prototype.calculateAdditionalBlockIterations=function(t){return 2+Math.floor(Math.random()*t)},t.prototype.calculateStraightLinesFromIsometricSquare=function(t,e){var o=(180-this.smallAngle)/2,i=(180-this.largeAngle)/2,r=this.getHorizontalBottomShortestWidth(t,o),n=this.getVerticalBottomShortestHeight(r,o),a=this.getHorizontalTopLongestWidth(e,i),s=this.getVerticalTopLongestHeight(a,i);return{totalWidth:r+a,totalHeight:n+s,horizontalWidthFromBottom:r,horizontalWidthFromTop:a,verticalHeightFromBottom:n,verticalHeightFromTop:s}},t.prototype.getHorizontalBottomShortestWidth=function(t,e){return t*Math.sin(this.toRadians(e))},t.prototype.getVerticalBottomShortestHeight=function(t,e){return t*Math.cos(this.toRadians(e))},t.prototype.getHorizontalTopLongestWidth=function(t,e){return t*Math.sin(this.toRadians(e))},t.prototype.getVerticalTopLongestHeight=function(t,e){return t*Math.cos(this.toRadians(e))},t.prototype.addGradient=function(t,e,o){var i='<linearGradient id="'+t+'">';return i+='<stop offset="5%" stop-color="'+e+'" />',i+='<stop offset="95%" stop-color="'+o+'" />',i+="</linearGradient>"},t.prototype.toRadians=function(t){return t*(Math.PI/180)},t.prototype.getHighestXfromArray=function(t){var e={x:0,y:0};return t.forEach((function(t){t.x>e.x&&(e=t)})),e},t.prototype.getHighestYfromArray=function(t){var e={x:0,y:0};return t.forEach((function(t){t.y>e.y&&(e=t)})),e},t.prototype.getLowestXfromArray=function(t){var e=this.getHighestXfromArray(t);return t.forEach((function(t){t.x<e.x&&(e=t)})),e},t.prototype.getLowestYfromArray=function(t){var e=this.getHighestYfromArray(t);return t.forEach((function(t){t.y<e.y&&(e=t)})),e},t}();o.MapGenerationFunctions=r,function(t){t[t.Red=125+Math.floor(75*Math.random())]="Red",t[t.Green=170+Math.floor(40*Math.random())]="Green",t[t.Blue=180+Math.floor(30*Math.random())]="Blue"}(o.TileColor||(o.TileColor={}))},{"./config.component":21}],24:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=t("./config.component"),r=t("./mapGenerationFunctions.component"),n=t("./colors.component"),a=function(){function t(){this.config=new i.Config,this.calculations=new r.MapGenerationFunctions,this.tileW=this.config.tileWidth,this.tileL=this.config.tileLength,this.tileH=this.config.tileHeight,this.bleed=this.config.tileEdgeBleed,this.dimensions=this.calculations.calculateStraightLinesFromIsometricSquare(this.tileW,this.tileL),this.tileColor=new n.Color(152,142,189)}return t.prototype.createTile=function(t,e,o,i){var r={x:t+this.dimensions.horizontalWidthFromTop,y:e},n={x:t,y:e+this.dimensions.verticalHeightFromTop},a={x:t+this.dimensions.horizontalWidthFromBottom,y:e+this.dimensions.totalHeight},s={x:t+this.dimensions.totalWidth,y:e+this.dimensions.verticalHeightFromBottom},h=r.x+" "+(r.y-this.bleed),l=n.x-this.bleed+" "+n.y,u=a.x+" "+(a.y+this.bleed),c=s.x+this.bleed+" "+s.y,f=n.x-this.bleed+" "+(n.y-o),_=n.x-this.bleed+" "+n.y,p=a.x+" "+(a.y+this.bleed),d=a.x+" "+(a.y+this.bleed-o),g=a.x+" "+(a.y+this.bleed-o),y=a.x+" "+(a.y+this.bleed),m=s.x+this.bleed+" "+s.y,b=s.x+this.bleed+" "+(s.y-o);o&&(h=r.x+" "+(r.y-this.bleed-o),l=n.x-this.bleed+" "+(n.y-o),u=a.x+" "+(a.y+this.bleed-o),c=s.x+this.bleed+" "+(s.y-o),f=n.x-this.bleed+" "+(n.y-o),_=n.x-this.bleed+" "+n.y,p=a.x+" "+(a.y+this.bleed),d=a.x+" "+(a.y+this.bleed-o),g=a.x+" "+(a.y+this.bleed-o),y=a.x+" "+(a.y+this.bleed),m=s.x+this.bleed+" "+s.y,b=s.x+this.bleed+" "+(s.y-o));var v='<path fill="'+this.tileColor.hex()+'"\n\t\t\t\t\td="M'+l+" \n\t\t\t\t\tL"+u+" \n\t\t\t\t\tL"+c+" \n\t\t\t\t\tL"+h+" \n\t\t\t\t\tL"+l+' Z" />';return o&&(v+='<path fill="rgb(122, 132, 179)"\n\t\t\t\t\td="M'+d+"\n\t\t\t\t\tL"+f+"\n\t\t\t\t\tL"+_+"\n\t\t\t\t\tL"+p+"\n\t\t\t\t\tL"+d+' Z" />',v+='<path fill="rgb(172, 162, 219)"\n\t\t\t\t\td="M'+g+"\n\t\t\t\t\tL"+y+"\n\t\t\t\t\tL"+m+"\n\t\t\t\t\tL"+b+"\n\t\t\t\t\tL"+g+' Z" />'),{html:v,coords:{top:r,left:n,bottom:a,right:s}}},t.prototype.createPolygon=function(t,e,o,i,r){var n="",a=!1,s=!1;t.y>0&&t.x>0&&(a=!0),t.y<t.map.length-1&&t.x<t.map[0].length-1&&(s=!0),console.log(t);for(var h=a&&s?(t.map[t.y-1][t.x-1].height+i)/2:0,l=a?(t.map[t.y][t.x-1].height+i)/2:0,u=a&&s?(t.map[t.y+1][t.x-1].height+i)/2:0,c=s?(t.map[t.y+1][t.x].height+i)/2:0,f=s?(t.map[t.y+1][t.x+1].height+i)/2:0,_=s?(t.map[t.y][t.x+1].height+i)/2:0,p=a&&s?(t.map[t.y-1][t.x+1].height+i)/2:0,d=a?(t.map[t.y-1][t.x].height+i)/2:0,g={x:e+this.dimensions.horizontalWidthFromTop,y:o-h},y={x:e,y:o+this.dimensions.verticalHeightFromTop-u},m={x:e+this.dimensions.horizontalWidthFromBottom,y:o+this.dimensions.totalHeight-f},b={x:e+this.dimensions.totalWidth,y:o+this.dimensions.verticalHeightFromBottom-p},v={x:(g.x+m.x)/2,y:(y.y+b.y)/2-i},E={x:(y.x+g.x)/2,y:(y.y+g.y)/2-l},x={x:(g.x+b.x)/2,y:(g.y+b.y)/2-d},L={x:(m.x+b.x)/2,y:(m.y+b.y)/2-_},M={x:(y.x+m.x)/2,y:(y.y+m.y)/2-c},O=[[g,E,v],[E,y,v],[y,M,v],[M,m,v],[v,m,L],[v,L,b],[x,v,b],[g,v,x]],D=0;D<O.length;D++)n+='<path \n\t\t\t\t\t\tstroke="rgb(10, 10, 10)" \n\t\t\t\t\t\tstroke-width="1"\n\t\t\t\t\t\tstroke-linecap="round"\n\t\t\t\t\t\tfill="rgb(172, 162, 219)"\n\t\t\t\t\td="M'+O[D][0].x+" "+O[D][0].y+"\n\t\t\t\t\tL"+O[D][1].x+" "+O[D][1].y+"\n\t\t\t\t\tL"+O[D][2].x+" "+O[D][2].y+"\n\t\t\t\t\tL"+O[D][0].x+" "+O[D][0].y+' Z" />';return{html:n,coords:{top:g,left:y,bottom:m,right:b}}},t.prototype.createPolygon2=function(t,e,o,i,r){var n={x:e+this.dimensions.horizontalWidthFromTop,y:o},a={x:e,y:o+this.dimensions.verticalHeightFromTop},s={x:e+this.dimensions.horizontalWidthFromBottom,y:o+this.dimensions.totalHeight},h={x:e+this.dimensions.totalWidth,y:o+this.dimensions.verticalHeightFromBottom},l=!1,u=!1,c=!1,f=!1,_=n.y-this.bleed-i;t.y>0&&t.x>0&&(_=n.y-this.bleed-t.map[t.y-1][t.x-1].height,t.map[t.y-1][t.x-1].height!==i&&(l=!0));var p=a.y-i;t.y<t.map.length-1&&t.x>0&&(p=a.y-t.map[t.y+1][t.x-1].height,t.map[t.y+1][t.x-1].height!==i&&(u=!0));var d=s.y+this.bleed-i;t.y<t.map.length-1&&t.x<t.map[0].length-1&&(d=s.y+this.bleed-t.map[t.y+1][t.x+1].height,t.map[t.y+1][t.x+1].height!==i&&(c=!0));var g=h.y-i;t.y>0&&t.x<t.map[0].length-1&&(g=h.y-t.map[t.y-1][t.x+1].height,t.map[t.y-1][t.x+1].height!==i&&(f=!0));var y=n.x+" "+_,m=a.x-this.bleed+" "+p,b=s.x+" "+d,v=h.x+this.bleed+" "+g;return{html:'<path data-height="'+i+'" fill="'+this.tileColor.hex()+'"\n\t\t\t\t\tdata-top="'+l+'"\n\t\t\t\t\tdata-left="'+u+'"\n\t\t\t\t\tdata-bottom="'+c+'"\n\t\t\t\t\tdata-right="'+f+'"\n\t\t\t\t\td="M'+m+" \n\t\t\t\t\tL"+b+" \n\t\t\t\t\tL"+v+" \n\t\t\t\t\tL"+y+" \n\t\t\t\t\tL"+m+' Z" />',coords:{top:n,left:a,bottom:s,right:h}}},t}();o.RenderElements=a},{"./colors.component":20,"./config.component":21,"./mapGenerationFunctions.component":23}],25:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,e,o,i,r,n,a){this._id=t,this._x=e,this._y=o,this._h=i,this._tileType=r,this._tileColor=n,a&&(this._options=a)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this._h},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._tileType},set:function(t){this._tileType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options?this._options:void 0},enumerable:!0,configurable:!0}),t.prototype.getColor=function(){return this._tileColor},Object.defineProperty(t.prototype,"tileColor",{get:function(){return this._tileColor},set:function(t){this._tileColor=t},enumerable:!0,configurable:!0}),t}();o.Tile=i,function(t){t.None="none",t.Body="body",t.Tower="tower",t.HalfBlock="halfBlock",t.Roof="roof",t.Grass="grass",t.Shadow="shadow"}(o.TileType||(o.TileType={}))},{}]},{},[20,21,22,23,24,25]);
//# sourceMappingURL=bundle.min.js.map
